<ion-content>
  <ion-header [translucent]="true">
    <ion-toolbar style="--background: rgb(45, 1, 148) !important; display: flex;">
      <ion-buttons slot="start">
        <ion-menu-button src="../../assets/img/menu.svg" style="color: #fff"></ion-menu-button>
      </ion-buttons>
      <div class="icones">
        <span>Filtrar</span>
        <ion-icon src="../../assets/icon/filtro.svg"></ion-icon>
      </div>
    </ion-toolbar>
  </ion-header>
  <br>
  <h1>Ocorrências</h1>

  <mat-expansion-panel *ngFor="let dados of ocorrencia" hideToggle style="text-transform: capitalize;min-height: 10px; width: 90%; margin: 0 auto; margin-top: 20px !important;">
    <mat-expansion-panel-header>
      <mat-panel-title style="display: flex; align-items: center;">
        <ion-icon src="../../assets/icon/setaoc.svg" style="font-size: 30px;"></ion-icon>
        &nbsp;&nbsp;
        <span style="font-size: 12px;">#0{{dados.id}} - {{dados.titulo}}</span>
        <br>
      </mat-panel-title>

    </mat-expansion-panel-header>
    <span style="color: #6200EE">Reclamação em {{dataCriacao}} às {{dados.horaCriacao}}</span>
    <br>
    <span style="color: #6200EE">Autor: {{dados.autor}} (bloco {{dados.morador.bloco}} - apt{{dados.morador.apartamento}})</span>
    <br>
    <br>
    <br>
    <ion-grid>
      <ion-row>
        <ion-col size='6' style="text-align: center;">
          <span>
            <b>Código</b>
          </span>
          <br>
          <span>#0{{dados.id}}</span>
        </ion-col>


        <ion-col size='6' style="text-align: center;">
          <span>
            <b>Status</b>
          </span>
          <br>
          <span>{{dados.status}}</span>
        </ion-col>
      </ion-row>
    </ion-grid>

    <br>
    <hr>
    <h3>
      <b>Acompanhamento</b>
    </h3>


      <mat-form-field style="width: 100%;">
        <mat-label>Comente Aqui</mat-label>
        <textarea type="email"[(ngModel)]="mensagem" style="padding-left: 15px;" matInput style="height: 50px;" [errorStateMatcher]="matcher" placeholder="Converse com o morador"></textarea>
      </mat-form-field>

      <div class="anexo">
        <br>
        <ion-button (click)="file.click()">Anexar Arquivos</ion-button>
        <br>
        <br>
        <ion-button (click)="enviarMensagens(dados.id)">Enviar Comentario</ion-button>
        <input type="file" #file id="file" style="font-size: 13px !important">
      </div>

    <br>
    <br>
    <h4>
      <b>Ultimos Comentários</b>
    </h4>

    <ion-card>
      <ion-card-content>
        <span style="color: #7F2FF0; font-size: 13px;">Maicon Hugo</span>
        <br>
        <span style="font-size: 12px;">Aglomeração no apartamento 501</span>
        <br>
        <span style="font-size: 10px;">5 horas atrás</span>
        <br>
      </ion-card-content>
    </ion-card>

  </mat-expansion-panel>

</ion-content>